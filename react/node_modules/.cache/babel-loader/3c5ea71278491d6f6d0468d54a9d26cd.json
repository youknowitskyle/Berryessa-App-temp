{"ast":null,"code":"var _jsxFileName = \"/Users/kyle/workspace/React/firebase-tutorial/src/components/Home/index.js\";\nimport React, { Component } from \"react\";\nimport { compose } from \"recompose\";\nimport { withAuthorization } from \"../Session\";\nimport { withFirebase } from \"../Firebase\";\n\nconst HomePage = () => React.createElement(\"div\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8\n  },\n  __self: this\n}, React.createElement(\"h1\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}, \"Home Page\"), React.createElement(\"p\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, \"You are authenticated.\"), React.createElement(Messages, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12\n  },\n  __self: this\n}));\n\nclass MessagesBase extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      message: []\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: true\n    });\n    this.props.firebase.messages().on(\"value\", snapshot => {\n      // convert messages list from snapshot\n      this.setState({\n        loading: false\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.messages().off();\n  }\n\n  render() {\n    const _this$state = this.state,\n          messages = _this$state.messages,\n          loading = _this$state.loading;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, loading && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Loading ...\"), React.createElement(MessageList, {\n      messages: messages,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst MessageList = ({\n  messages\n}) => React.createElement(\"ul\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 54\n  },\n  __self: this\n}, messages.map(message => React.createElement(MessageItem, {\n  key: message.uid,\n  message: message,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 56\n  },\n  __self: this\n})));\n\nconst MessageItem = ({\n  message\n}) => React.createElement(\"li\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 62\n  },\n  __self: this\n}, React.createElement(\"strong\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 63\n  },\n  __self: this\n}, message.userId), \" \", message.text);\n\nconst Messages = withFirebase(MessagesBase);\n\nconst condition = authUser => !!authUser; //or equivalently:\n//const condition = authUser => authUser != null;\n\n\nexport default withAuthorization(condition)(HomePage);","map":{"version":3,"sources":["/Users/kyle/workspace/React/firebase-tutorial/src/components/Home/index.js"],"names":["React","Component","compose","withAuthorization","withFirebase","HomePage","MessagesBase","constructor","props","state","loading","message","componentDidMount","setState","firebase","messages","on","snapshot","componentWillUnmount","off","render","MessageList","map","uid","MessageItem","userId","text","Messages","condition","authUser"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,WAAxB;AAEA,SAASC,iBAAT,QAAkC,YAAlC;AACA,SAASC,YAAT,QAA6B,aAA7B;;AAEA,MAAMC,QAAQ,GAAG,MACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFF,EAIE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAJF,CADF;;AASA,MAAMC,YAAN,SAA2BL,SAA3B,CAAqC;AACnCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE,KADE;AAEXC,MAAAA,OAAO,EAAE;AAFE,KAAb;AAID;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,QAAL,CAAc;AAAEH,MAAAA,OAAO,EAAE;AAAX,KAAd;AAEA,SAAKF,KAAL,CAAWM,QAAX,CAAoBC,QAApB,GAA+BC,EAA/B,CAAkC,OAAlC,EAA2CC,QAAQ,IAAI;AACrD;AAEA,WAAKJ,QAAL,CAAc;AAAEH,QAAAA,OAAO,EAAE;AAAX,OAAd;AACD,KAJD;AAKD;;AAEDQ,EAAAA,oBAAoB,GAAG;AACrB,SAAKV,KAAL,CAAWM,QAAX,CAAoBC,QAApB,GAA+BI,GAA/B;AACD;;AAEDC,EAAAA,MAAM,GAAG;AAAA,wBACuB,KAAKX,KAD5B;AAAA,UACCM,QADD,eACCA,QADD;AAAA,UACWL,OADX,eACWA,OADX;AAGP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,OAAO,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADd,EAGE,oBAAC,WAAD;AAAa,MAAA,QAAQ,EAAEK,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF;AAOD;;AAlCkC;;AAqCrC,MAAMM,WAAW,GAAG,CAAC;AAAEN,EAAAA;AAAF,CAAD,KAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACGA,QAAQ,CAACO,GAAT,CAAaX,OAAO,IACnB,oBAAC,WAAD;AAAa,EAAA,GAAG,EAAEA,OAAO,CAACY,GAA1B;AAA+B,EAAA,OAAO,EAAEZ,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADD,CADH,CADF;;AAQA,MAAMa,WAAW,GAAG,CAAC;AAAEb,EAAAA;AAAF,CAAD,KAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAASA,OAAO,CAACc,MAAjB,CADF,OACqCd,OAAO,CAACe,IAD7C,CADF;;AAMA,MAAMC,QAAQ,GAAGvB,YAAY,CAACE,YAAD,CAA7B;;AAEA,MAAMsB,SAAS,GAAGC,QAAQ,IAAI,CAAC,CAACA,QAAhC,C,CAEA;AACA;;;AAEA,eAAe1B,iBAAiB,CAACyB,SAAD,CAAjB,CAA6BvB,QAA7B,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { compose } from \"recompose\";\n\nimport { withAuthorization } from \"../Session\";\nimport { withFirebase } from \"../Firebase\";\n\nconst HomePage = () => (\n  <div>\n    <h1>Home Page</h1>\n    <p>You are authenticated.</p>\n\n    <Messages />\n  </div>\n);\n\nclass MessagesBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      message: []\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ loading: true });\n\n    this.props.firebase.messages().on(\"value\", snapshot => {\n      // convert messages list from snapshot\n\n      this.setState({ loading: false });\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.firebase.messages().off();\n  }\n\n  render() {\n    const { messages, loading } = this.state;\n\n    return (\n      <div>\n        {loading && <div>Loading ...</div>}\n\n        <MessageList messages={messages} />\n      </div>\n    );\n  }\n}\n\nconst MessageList = ({ messages }) => (\n  <ul>\n    {messages.map(message => (\n      <MessageItem key={message.uid} message={message} />\n    ))}\n  </ul>\n);\n\nconst MessageItem = ({ message }) => (\n  <li>\n    <strong>{message.userId}</strong> {message.text}\n  </li>\n);\n\nconst Messages = withFirebase(MessagesBase);\n\nconst condition = authUser => !!authUser;\n\n//or equivalently:\n//const condition = authUser => authUser != null;\n\nexport default withAuthorization(condition)(HomePage);\n"]},"metadata":{},"sourceType":"module"}