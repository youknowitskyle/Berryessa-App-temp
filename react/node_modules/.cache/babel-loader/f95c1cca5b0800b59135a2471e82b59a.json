{"ast":null,"code":"var _jsxFileName = \"/Users/kyle/workspace/Projects/Berryessa-App/react/src/components/Calendar/index.js\";\nimport React, { Component } from \"react\";\nimport moment from \"moment\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport request from \"superagent\";\nimport Popup from \"reactjs-popup\";\nimport * as ROLES from \"../../constants/roles\";\nimport { withAuthorization } from \"../Session\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nconst CALENDAR_ID = \"0smc23b1ra5r007ca8gf02q1ic@group.calendar.google.com\";\nconst API_KEY = \"AIzaSyCZT6wgDKyHv88Z_uemSC7GzVRGafL4IOY\";\nlet url = \"https://www.googleapis.com/calendar/v3/calendars/\".concat(CALENDAR_ID, \"/events?key=\").concat(API_KEY);\nconst localizer = momentLocalizer(moment);\n\nclass CalendarPageBase extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      eventsList: [],\n      openEvent: false,\n      event: \"\"\n    };\n  }\n\n  componentDidMount() {\n    request.get(url).end((err, resp) => {\n      if (!err) {\n        const events = [];\n        JSON.parse(resp.text).items.map(event => {\n          const startHolder = event.start.date || event.start.dateTime;\n          const endHolder = event.end.date || event.end.dateTime;\n          const startDate = new Date(startHolder);\n          const endDate = new Date(endHolder);\n          events.push({\n            start: startDate,\n            end: endDate,\n            title: event.summary,\n            description: event.description\n          });\n        });\n        this.setState({\n          eventsList: events\n        });\n      }\n    });\n  }\n\n  onSelectEvent(event) {\n    this.setState({\n      openEvent: true,\n      event: event\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Calendar\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(Calendar, {\n      localizer: localizer,\n      events: this.state.eventsList,\n      startAccessor: \"start\",\n      endAccessor: \"end\",\n      onSelectEvent: event => this.onSelectEvent(event),\n      style: {\n        height: \"420px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(Popup, {\n      modal: true,\n      closeOnDocumentClick: true,\n      open: this.state.openEvent,\n      onClose: () => {\n        this.setState({\n          openEvent: false\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, this.state.event.title), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, this.state.event.start && this.state.event.end && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Date(s): \", this.state.event.start.toString(), \" -\", \" \", this.state.event.end.toString())), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, this.state.event.description && React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Description: \", this.state.event.description)))));\n  }\n\n}\n\nconst condition = authUser => !!authUser && !!ROLES.APPROVED;\n\nconst CalendarPage = withAuthorization(condition)(CalendarPageBase);\nexport default CalendarPage;","map":{"version":3,"sources":["/Users/kyle/workspace/Projects/Berryessa-App/react/src/components/Calendar/index.js"],"names":["React","Component","moment","Calendar","momentLocalizer","request","Popup","ROLES","withAuthorization","CALENDAR_ID","API_KEY","url","localizer","CalendarPageBase","constructor","props","state","eventsList","openEvent","event","componentDidMount","get","end","err","resp","events","JSON","parse","text","items","map","startHolder","start","date","dateTime","endHolder","startDate","Date","endDate","push","title","summary","description","setState","onSelectEvent","render","height","textAlign","toString","condition","authUser","APPROVED","CalendarPage"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport moment from \"moment\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport request from \"superagent\";\nimport Popup from \"reactjs-popup\";\n\nimport * as ROLES from \"../../constants/roles\";\n\nimport { withAuthorization } from \"../Session\";\n\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\n\nconst CALENDAR_ID = \"0smc23b1ra5r007ca8gf02q1ic@group.calendar.google.com\";\nconst API_KEY = \"AIzaSyCZT6wgDKyHv88Z_uemSC7GzVRGafL4IOY\";\n\nlet url = `https://www.googleapis.com/calendar/v3/calendars/${CALENDAR_ID}/events?key=${API_KEY}`;\n\nconst localizer = momentLocalizer(moment);\n\nclass CalendarPageBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      eventsList: [],\n      openEvent: false,\n      event: \"\"\n    };\n  }\n\n  componentDidMount() {\n    request.get(url).end((err, resp) => {\n      if (!err) {\n        const events = [];\n        JSON.parse(resp.text).items.map(event => {\n          const startHolder = event.start.date || event.start.dateTime;\n          const endHolder = event.end.date || event.end.dateTime;\n\n          const startDate = new Date(startHolder);\n          const endDate = new Date(endHolder);\n\n          events.push({\n            start: startDate,\n            end: endDate,\n            title: event.summary,\n            description: event.description\n          });\n        });\n        this.setState({ eventsList: events });\n      }\n    });\n  }\n\n  onSelectEvent(event) {\n    this.setState({ openEvent: true, event: event });\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Calendar</h1>\n        <br />\n\n        <Calendar\n          localizer={localizer}\n          events={this.state.eventsList}\n          startAccessor=\"start\"\n          endAccessor=\"end\"\n          onSelectEvent={event => this.onSelectEvent(event)}\n          style={{ height: \"420px\" }}\n        />\n        <Popup\n          modal\n          closeOnDocumentClick\n          open={this.state.openEvent}\n          onClose={() => {\n            this.setState({ openEvent: false });\n          }}\n        >\n          <h1 style={{ textAlign: \"center\" }}>{this.state.event.title}</h1>\n          <br />\n          <br />\n          <ul>\n            <li>\n              {this.state.event.start && this.state.event.end && (\n                <div>\n                  Date(s): {this.state.event.start.toString()} -{\" \"}\n                  {this.state.event.end.toString()}\n                </div>\n              )}\n            </li>\n            <br />\n            <li>\n              {this.state.event.description && (\n                <div>Description: {this.state.event.description}</div>\n              )}\n            </li>\n          </ul>\n        </Popup>\n      </div>\n    );\n  }\n}\n\nconst condition = authUser => !!authUser && !!ROLES.APPROVED;\n\nconst CalendarPage = withAuthorization(condition)(CalendarPageBase);\n\nexport default CalendarPage;\n"]},"metadata":{},"sourceType":"module"}