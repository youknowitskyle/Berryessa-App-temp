{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar makeDuration = function (event) {\n  var minutes = Math.floor((+new Date(event.endsAt) - +new Date(event.startsAt)) / 60 / 1000);\n  return Math.floor(minutes / 60) + \":\" + (\"0\" + minutes % 60).slice(-2);\n};\n\nvar makeTime = function (time) {\n  return new Date(time).toISOString().replace(/[-:]|\\.\\d{3}/g, \"\");\n};\n\nvar makeUrl = function (base, query) {\n  return Object.keys(query).reduce(function (accum, key, index) {\n    var value = query[key];\n\n    if (value !== null) {\n      return \"\" + accum + (index === 0 ? \"?\" : \"&\") + key + \"=\" + encodeURIComponent(value);\n    }\n\n    return accum;\n  }, base);\n};\n\nvar makeGoogleCalendarUrl = function (event) {\n  return makeUrl(\"https://calendar.google.com/calendar/render\", {\n    action: \"TEMPLATE\",\n    dates: makeTime(event.startsAt) + \"/\" + makeTime(event.endsAt),\n    location: event.location,\n    text: event.name,\n    details: event.details\n  });\n};\n\nvar makeOutlookCalendarUrl = function (event) {\n  return makeUrl(\"https://outlook.live.com/owa\", {\n    rru: \"addevent\",\n    startdt: makeTime(event.startsAt),\n    enddt: makeTime(event.endsAt),\n    subject: event.name,\n    location: event.location,\n    body: event.details,\n    allday: false,\n    uid: new Date().getTime().toString(),\n    path: \"/calendar/view/Month\"\n  });\n};\n\nvar makeYahooCalendarUrl = function (event) {\n  return makeUrl(\"https://calendar.yahoo.com\", {\n    v: 60,\n    view: \"d\",\n    type: 20,\n    title: event.name,\n    st: makeTime(event.startsAt),\n    dur: makeDuration(event),\n    desc: event.details,\n    in_loc: event.location\n  });\n};\n\nvar makeICSCalendarUrl = function (event) {\n  var components = [\"BEGIN:VCALENDAR\", \"VERSION:2.0\", \"BEGIN:VEVENT\", \"URL:\" + document.URL, \"DTSTART:\" + makeTime(event.startsAt), \"DTEND:\" + makeTime(event.endsAt), \"SUMMARY:\" + event.name, \"DESCRIPTION:\" + event.details, \"LOCATION:\" + event.location, \"END:VEVENT\", \"END:VCALENDAR\"];\n  return encodeURI(\"data:text/calendar;charset=utf8,\" + components.join(\"\\n\"));\n};\n\nvar makeUrls = function (event) {\n  return {\n    google: makeGoogleCalendarUrl(event),\n    outlook: makeOutlookCalendarUrl(event),\n    yahoo: makeYahooCalendarUrl(event),\n    ics: makeICSCalendarUrl(event)\n  };\n};\n\nexports.default = makeUrls;","map":null,"metadata":{},"sourceType":"script"}